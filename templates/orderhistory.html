{% extends "menu.html" %} {% block title %}Food Orders History{% endblock %}
{%block content %}
<style>
  .order-card {
    border: 1px solid #e1e1e1;
    padding: 10px;
    margin-bottom: 10px;
    background-color: #f9f9f9; /* A light grey background */
  }

  .order-image {
    width: 60px;
    height: 60px;
    margin-right: 10px;
  }

  .price {
    font-weight: bold;
  }

  .navbar {
    background-color: #39628c;
  }

  .navbar .navbar-brand,
  .navbar .nav-link {
    color: #ffffff;
  }

  .navbar .nav-link.active,
  .navbar .nav-link:hover {
    color: #ffc107;
  }

  .btn-secondary {
    background-color: #ffc107;
    border-color: #ffc107;
  }

  .btn-secondary:hover {
    background-color: #e0a800;
    border-color: #e0a800;
  }
</style>

<div class="container mt-4">
  <!-- Active Orders -->
  <h4 class="mb-4">Active orders</h4>
  {%for order in orderFoods%} {%if order.status != "completed"%}
  <div class="order-card d-flex align-items-center">
    <div class="flex-grow-1">
      <input type="hidden" value="{{order.orderId}}" />
      {%for food in order.food%}
      <p class="mb-1">{% for item in foods %}{%if item.id == food.foodId%}</p>

      <p class="mb-1">{{item.name}} {%endif%}{%endfor%} x {{food.quantity}}</p>
      {%endfor%}
    </div>
    <div class="flex-row-reverse">
      <div class="col">
        <p class="price">HK$ {{order.total}}</p>
      </div>
      <div class="col">
        <input
          type="button"
          class="btn btn-secondary"
          value="Status"
          onclick="window.location.href='http://127.0.0.1:5000/orderStatus'"
        />
      </div>
    </div>
  </div>
  {%endif%} {%endfor%}
  <p>You have not more active orders.</p>

  <!-- Past Orders -->
  <h4 class="mb-4 mt-4">Past orders</h4>

  <!-- Example order card -->
  {%for order in orderFoods%} {%if order.status == "completed"%}
  <div class="order-card d-flex align-items-center">
    <div class="flex-grow-1">
      <input type="hidden" value="{{order.orderId}}" />
      {%for food in order.food%}
      <p class="mb-1">{% for item in foods %}{%if item.id == food.foodId%}</p>

      <p class="mb-1">{{item.name}} {%endif%}{%endfor%} x {{food.quantity}}</p>
      {%endfor%}
    </div>
    <div class="text-end">
      <p class="price">HK$ {{order.total}}</p>
    </div>
  </div>
  {%endif%} {%endfor%}
  <!-- Repeat the above "order-card" div for each order you want to display -->
</div>
<script
  src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
  integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
  crossorigin="anonymous"
></script>
{% endblock %}
